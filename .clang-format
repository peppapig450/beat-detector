BasedOnStyle: LLVM
ColumnLimit: 100
Standard: Latest
IndentWidth: 4
TabWidth: 4
UseTab: Never

BreakBeforeBraces: Attach
AccessModifierOffset: -4
DerivePointerAlignment: false
PointerAlignment: Left
AllowShortFunctionsOnASingleLine: Empty
SpacesBeforeTrailingComments: 2
SpaceAfterCStyleCast: true

IncludeBlocks: Regroup
SortIncludes: true
IncludeIsMainRegex: '([-_](test|unittest))?$'
IncludeCategories:
  - Regex: '^".*"'
    Priority: 1
    # This avoids clangd errors from aubio headers not importing the types they use
  - Regex: '^<aubio/types\.h>'
    Priority: 1
  - Regex: '^<pipewire/.*>'
    Priority: 2
  - Regex: '^<spa/.*>'
    Priority: 2
  - Regex: '^<aubio/.*>'
    Priority: 2
  - Regex: '^<.*\.h>'
    Priority: 3
  - Regex: '^<.*>'
    Priority: 4

IndentPPDirectives: BeforeHash
ContinuationIndentWidth: 4
BreakBeforeBinaryOperators: NonAssignment
PenaltyBreakBeforeFirstCallParameter: 1000

Cpp11BracedListStyle: true
SpaceBeforeCpp11BracedList: true
AllowAllParametersOfDeclarationOnNextLine: false
AllowAllArgumentsOnNextLine: false
BinPackParameters: false
BinPackArguments: false
AlignAfterOpenBracket: Align

AlignConsecutiveAssignments:
  Enabled: true
  AcrossEmptyLines: false
  AcrossComments: true
  AlignCompound: true
  AlignFunctionDeclarations: true
AlignConsecutiveBitFields: Consecutive
AlignConsecutiveDeclarations: Consecutive
AlignConsecutiveShortCaseStatements:
  Enabled: true
  AcrossEmptyLines: true
  AcrossComments: true
  AlignCaseColons: true
  AlignCaseArrows: true

AllowShortIfStatementsOnASingleLine: false
AllowShortEnumsOnASingleLine: true
AllowShortCaseLabelsOnASingleLine: true
AllowShortCaseExpressionOnASingleLine: true

BreakInheritanceList: BeforeComma
PackConstructorInitializers: Never
BreakConstructorInitializers: BeforeComma
SeparateDefinitionBlocks: Always